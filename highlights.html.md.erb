---
title: PCF v2.2 Feature Highlights
---

<html class="list-style-none"></html>

This topic highlights important new features included in Pivotal Cloud Foundry (PCF) v2.2.


## <a id='om'></a> Ops Manager Highlights

Ops Manager v2.2 includes the following major features:

### <a id='multi-dc'></a> Multiple Data Centers on vSphere

Ops Manager now allows you to manage multiple vSphere vCenters on a single vSphere BOSH Director tile.  This feature allows you to have multiple data centers across the world rather than just one for each PCF deployment.

If you want to mark a text area as `secret`, you must set `type: secret` and `display_type: text_area` in your property blueprint.

For more information about how to add, edit, and delete vCenters, see [Managing Multiple vSphere vCenters](../customizing/multiple-datacenters.html).

### <a id="selective-deploy"></a> (Beta) Selectively Deploy Ops Manager Tiles

You can now choose to deploy a selection of tiles rather than all tiles in Ops Manager. You can drastically reduce the time to deploy and apply changes. This feature is ideal for operators who have tracked their changes to specific tiles and want to avoid unnecessary tile deployments.

<p class="note"><strong>Note:</strong> Ops Manager is soliciting feedback for this feature. Submit feedback through your product architect or directly by emailing <a href="mailto:opsmanager-feedback+selective_deploys@pivotal.io">opsmanager-feedback+selective_deploys@pivotal.io</a>.</p>

### <a id="azure-china"></a> Ops Manager Supports Azure China

Ops Manager now supports a special region in Azure called Azure China. Azure China is a physically separated instance of cloud services that is located in China and independently operated. For more information about Azure China, see [What is Azure China 21Vianet?](https://docs.microsoft.com/en-us/azure/china/china-welcome) in the Azure China documentation.

### <a id="om-credhub"></a> Ops Manager Credentials Stored in CredHub

For even greater security, Ops Manager sends user-specified credentials to BOSH CredHub on each deployment. For more information about where Ops Manager-specific credentials are stored, see [BOSH CredHub](../credhub/index.html#bosh).

For information about how this feature affects tile authors, see [PCF v2.2 Partners Release Notice](https://docs.pivotal.io/tiledev/2-2/release-notes-2-2.html#om-credhub) in the _PCF Tile Developer Guide_.

### <a id='secret-text-field'></a> Secret Text Areas

Ops Manager v2.2 supports a text area in its UI that tile authors can mark as `secret`. When a text area is marked as a `secret`, the UI shows an `*` when the page is saved, and the API does not return the value entered in this field.

For more information, see the [Custom Forms and Properties](https://docs.pivotal.io/tiledev/tile-generator.html#custom-forms) section of the _Tile Generator_ topic.

### <a id="custom-ssl"></a> Specify a Custom Trusted SSL Certificate

Operators can specify a custom trusted SSL certificate and key for the Ops Manager server so that traffic isn't exposed to man-in-the-middle attacks when using Ops Manager.

By default, Ops Manager uses an auto-generated self-signed certificate. To change this configuration to your own SSL certificate, go to **Settings** from the Ops Manager Installation Dashboard and select the **SSL Certificate** pane. For more information about Ops Manager settings, see [Settings Page](../customizing/pcf-interface.html#settings) in the _Understanding the Ops Manager Interface_ topic.

<p class="note"><strong>Note: </strong>Custom SSL certificate and key is persisted between upgrades. Custom SSL only needs a one-time configuration.</p>

### <a id="om-syslog"></a> Configure an Ops Manager Syslog Server

You can configure a syslog server for Ops Manager logs. Logs include rails production logs, audit logs, UAA logs, nginx logs, and upstart logs for Ops Manager processes. Previous to this change, Ops Manager logs were not centralized in one accessible location. You also have the option to TLS-encrypt your logs.

For more information about configuring syslog for Ops Manager, see [Settings Page](http://docs.pivotal.io/customizing/pcf-interface.html#settings) in the _Understanding the Ops Manager Interface_ topic.

### <a id="tls-blobstore"></a> TLS for Internal Blobstore Supported

Ops Manager now supports TLS communications for your internal blobstore. Ops Manager automatically generates and rotates TLS certifications for you.

To enable internal blobstore TLS communications, all of your tiles must have stemcells v3468 or later. You must also disable **Allow Legacy Agents** in the **Director Config** pane of the BOSH Director tile.

### <a id='tls-external-db'></a> Custom TLS Certificate for External MySQL Database Supported

Ops Manager now allows you to configure a custom TLS certificate for an external MySQL database.

To configure a custome TLS certificate, navigate to **Director Config > Database Location** and select **External MySQL Database** to see the **Enable TLS** checkbox and the **TLS CA**, **TLS Certificate**, **TLS Private Key**, and **Advanced DB Connection Options** fields.

<p class='note'><strong>Note:</strong> You can only configure the TLS-related field if you check the <strong>Enable TLS for Director Database</strong> checkbox. Otherwise, all the other fields will remain greyed out.</p>

For more information, see the **Director Config Page** section of any IaaS-specific Ops Manager configuration topic, such as [Configuring BOSH Director on GCP](https://docs.pivotal.io/pivotalcf/2-2/customizing/gcp-om-config.html#director-config).

### <a id="excluded-recursors"></a> Specify Excluded Recursors

In the BOSH Director tile, you can now enter a comma-separated list of IPs and ports you want to exclude from the DNS server.

---

## <a id='ert'></a> Pivotal Application Service (PAS) Highlights

### <a id="cipher-suites"></a> More Secure Cipher Suites for CF SSH

For greater security, the SSH proxy now accepts a narrower range of ciphers, MACs, and key exchanges when you call `cf ssh` from the CF CLI.

### <a id="timestamp"></a> New Format for Diego Timestamps

You can now use a human- and machine-readable format, RFC 3339, for Diego timestamps in logs. RFC 3339 format also prevents the need for log aggregation systems to parse a complex timestamp.

New installations of the PAS, PAS for Windows, PAS for Windows 2012R2, and PCF Isolation Segment tiles now default to RFC 3339 format.

The Unix epoch format is set by default for upgrades to v2.2.
You can enable the new timestamp format for Diego logs in the PAS tile.

For more information, see the **Configure Application Containers** section of any IaaS-specific PAS configuration topic, such as [Manually Configuring PAS for AWS](https://docs.pivotal.io/pivotalcf/2-2/customizing/pcf-aws-manual-er-config.html#application-containers-config).

<p class="note breaking"><strong>Breaking Change:</strong> Before enabling RFC 3339 format for Diego logs, ensure that your log aggregation system anticipates the timestamp format change. If you experience issues, you can disable RFC 3339 format in the PAS tile.</p>

### <a id="log-cache"></a> 

Loggregator adds an in-memory caching layer for logs and metrics and provides a RESTful interface for retrieving them. If you use Log Cache, you may notice faster results when retrieving recent logs for your apps from Log Cache instead of executing the `cf logs APP-NAME --recent` command.

<p class="note breaking"><strong>Breaking Change:</strong> If you disable Log Cache, App Autoscaler will fail. For more information about Log Cache, see [Loggregator Introduces Log Cache](https://docs.pivotal.io/pivotalcf/2-2/pcf-release-notes/runtime-rn.html#log-cache).</p>
---

## <a id='apps-man'></a> Apps Manager Highlights

### <a id='autoscaler-ui'></a> App Autoscaler UI Integrated into Apps Manager

The App Autoscaler UI is now integrated into Apps Manager.
This enables users to configure autoscaling for their apps through Apps Manager.

For more information about scaling apps using App Autoscaler, see [Scaling an Application Using App Autoscaler](https://docs.pivotal.io/pivotalcf/2-2/appsman-services/autoscaler/using-autoscaler.html).

---

## <a id='pcf-is'></a> PCF Isolation Segment Highlights

### <a id="is-timestamp"></a> New Format for Diego Timestamps

See [Pivotal Application Service (PAS) Highlights](#ert) above.

